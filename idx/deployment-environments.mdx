---
title: Branch Environments
---

Sim IDX streamlines your development and deployment lifecycle by integrating directly with your Git branching strategy.
This allows you to build, test, and ship changes using isolated environments.

Every Sim IDX app operates in one of two environments: **Production** or **Preview**.

## Production Environment

When you push a new commit to the `main` branch of your connected repo, a new production deployment is automatically created.

A new, dedicated PostgreSQL database is provisioned for every deployment.
A new base URL for your APIs is also created.

<Note>
If you're using these values during development, make sure you update them after every push.
</Note>

<Frame caption="The Current Deployment section of your App Page represents your latest production deployment.">
  <img src="/images/idx/deployment/current-deployment.png" />
</Frame>

## Preview Environments

When you push a new commit to any branch that _is not_ `main`, Sim IDX automatically spins up a completely separate environment for it.
Each preview deployment will get its own isolated database and unique API URL.

<Frame caption="The Other Deployments section of your App Page is where you can find preview deployments.">
  <img src="/images/idx/deployment/other-deployments.png" />
</Frame>

## Build and Ingestion Lifecycle

Every deployment progresses through three statuses: **Building → Ingesting → Ready**. This lifecycle governs when your code is compiled, when data is indexed, and what changes re-trigger historical backfill.

### Building

After you push a commit, Sim IDX builds your app (equivalent to running `sim build`). If there is a problem, the build fails with clear logs to help you resolve it. Fix the issue locally, commit, and push again to start a new build.

### Ingesting

When the build succeeds, the deployment begins ingesting. Two things happen in parallel:

- Real‑time indexing from the chain tip begins immediately.
- Historical backfill starts for the data defined by your Listener Contract. The status percentage reflects the backfill progress until it reaches 100%.

Your APIs and database are usable as soon as the deployment enters Ingesting. Response completeness improves as the backfill advances.

<Note>
Backfill is re-triggered only when you change your Listener Contract (including generated bindings that alter what the listener indexes). API-only or other non-listener code changes will create a new deployment but will not re-run historical backfill. The new deployment continues from the latest indexed state. To force a new backfill, modify your listener, commit, and push.
</Note>

### Ready

Backfill has completed (100%). Your app continues to index new onchain activity in real time.

## PR Flow

For a more structured development process, you can use PRs on GitHub to trigger preview deployments.
This allows for code review and collaborative testing before merging changes into the `main` branch.

To start, create a new branch in your local repo and push it to GitHub.
Then, open a pull request from your new branch to the `main` branch.

<Frame caption="Open a new pull request on GitHub">
  <img src="/images/idx/deployment/new-pr-on-github.png" />
</Frame>

Once the pull request is created, Sim IDX automatically builds a new preview deployment.
You can find this build in the "Other Deployments" section of your App Page in the Sim dashboard.

The deployment is linked to the pull request, allowing you and your team to easily access the PR on GitHub to review changes and test the isolated deployment.

<Frame caption="The PR link in the deployment details.">
  <img src="/images/idx/deployment/pr-other-deployment-sim-idx.png" />
</Frame>

After the pull request is approved and merged, a new production deployment will be created from the `main` branch.
