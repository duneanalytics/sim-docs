---
title: App Folder Structure
sidebarTitle: App Structure
---

Understanding the structure of a Sim IDX application is essential for effective development. This guide covers the folder structure and what each component does.

## Folder Structure Overview

```text
my-idx-app/
├── sim.toml                       # App configuration
├── abis/                          # JSON ABIs for the contracts you want to index
├── apis/                          # TypeScript/Edge runtime APIs (Node.js project)
│   ├── drizzle.config.ts          # Drizzle ORM configuration
│   └── src/                       # API source code
│       ├── index.ts               # Main API entry point
│       └── db/                    # Database schema and utilities
│           └── schema/            # Auto-generated database schema
│               └── Listener.ts    # Schema generated from listener events
└── listeners/                     # Foundry project for indexing logic
    ├── src/
    │   └── Main.sol               # PRIMARY editing target
    ├── test/
    │   └── Main.t.sol             # Unit tests for your listener
    └── lib/
        ├── sim-idx-sol/           # Core Sim IDX framework (DSL, context, helpers)
        └── sim-idx-generated/     # Code generated from the ABIs you add
```

#### sim.toml

The `sim.toml` file is your app's main configuration file.

You can set your app's `name`, which is used only internally. The `codegen_naming_convention` field supports two values. These are `abi_prefix` (default) and `plain`. It toggles whether generated handler names are prefixed to avoid clashes.

#### abis/

The `abis/` folder contains JSON ABI files of smart contracts you want to index.
The sample app includes `abis/UniswapV3Factory.json` for the Uniswap V3 Factory contract.

<Note>
When you add a new ABI with [`sim abi add`](/idx/cli#sim-abi-add-<file-path>), it automatically generates Solidity bindings in `listeners/lib/sim-idx-generated/`.
</Note>

#### apis/

The `apis/` folder is a complete Node.js project that provides TypeScript API endpoints running on the Cloudflare Workers Edge runtime.

The `src/index.ts` file defines your HTTP routes, while `src/db/schema/Listener.ts` is produced by `sim build` and exposes your listener-generated tables through Drizzle ORM for type-safe queries.

<Columns cols={1}>
  <Card title="API Development" href="/idx/apis">
    Build fast, type-safe endpoints backed by your indexed data.
  </Card>
</Columns>

#### listeners/

The `listeners/` folder is a Foundry project that contains everything related to on-chain indexing. Inside `src/Main.sol` you register triggers in a `Triggers` contract and implement handler logic in one or more Listener contracts. Unit tests live in `test/Main.t.sol`.

During `sim build` the framework inserts core helpers into `lib/sim-idx-sol/` and writes ABI-specific bindings into `lib/sim-idx-generated/`. These generated files should never be edited directly. If two ABIs define the same function or event you can either split the logic into multiple Listener contracts (preferred) or switch `codegen_naming_convention` to `abi_prefix` so the generated names no longer collide.

<Columns cols={1}>
  <Card title="Listener Development" href="/idx/listener">
    Learn how to create triggers and write handler logic in Solidity.
  </Card>
</Columns>

## Development Workflow

Understanding how these folders work together:

1. **Add Contract ABI** → `abis/YourContract.json`
2. **Generate Bindings** → `sim abi add` creates Solidity bindings and database schema
3. **Extend Listener** → Implement handlers in `listeners/src/Main.sol`
4. **Test Logic** → Write tests in `listeners/test/Main.t.sol`
5. **Build APIs** → Use generated schema in `apis/src/` to query your data
6. **Deploy** → Push your changes to a branch (or `main`) and follow the steps in the [deployment guide](/idx/deployment) to promote them to a live environment
