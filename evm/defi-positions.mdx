---
title: "DeFi Positions"
description: "Access a wallet's DeFi positions along with USD values and metadata across supported EVM chains."
openapi: "/evm/openapi/defi-positions.json GET /beta/evm/defi/positions/{address}"
sidebarTitle: "DeFi Positions"
---

import { SupportedChains } from '/snippets/supported-chains.mdx';

![Defi Positions API](/images/evm/defi-positions.svg)

<Warning>
**Preview Endpoint**: The DeFi Positions API is currently in preview while we validate data accuracy across protocols and chains. Response schemas and coverage may change. If you encounter any data discrepancies, please report them through our [support channels](/support).
</Warning>

The DeFi Positions API returns a wallet's active positions across liquidity pools, lending protocols, yield strategies, and tokenized DeFi assets. The endpoint is available at the beta path (`/beta/evm/defi/positions`). Each position includes token holdings, USD valuations, underlying asset metadata, and protocol-specific details such as tick ranges, collateral status, or reward accruals.

## Supported Protocols

Protocol coverage is organized by position type. Each protocol specifies its supported chains and the API response type under which it appears.

<Accordion title="Protocol Chain Coverage Table" icon="table">

| Protocol / Standard | Ethereum (1) | Base (8453) | Arbitrum (42161) | BNB (56) | Avalanche (43114) | Optimism (10) | Polygon (137) | Unichain (130) | HyperEVM (999) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Uniswap V2 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Uniswap V2 Forks | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Uniswap V3 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Uniswap V4 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| ERC‑4626 Vaults | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| Aave v2 | ✓ |  |  |  |  |  |  |  |  |
| Aave v3 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |

</Accordion>

### Liquidity Pool Positions

Liquidity pool positions represent token pairs deposited into automated market makers (AMMs). These positions may be fungible ERC-20 LP tokens or non-fungible NFT-based positions for concentrated liquidity.

<AccordionGroup>
  <Accordion title="Uniswap V2 (and Forks)" icon="droplet">
  **Type:** `UniswapV2`  
  **Chains:** Ethereum (1), Base (8453), Arbitrum (42161), BNB (56), Avalanche (43114), Optimism (10), Polygon (137), Unichain (130), HyperEVM (999)  
  **Recognized Forks:** SushiSwapV2, PancakeSwapV2, ShibaSwapV2, RingSwap, CroDefiSwap, DXSwap, SquadSwap, TrebleSwapV2, BaseSwap, SharkSwap, RocketSwap, Aerodrome, Infusion, GammaSwap  
  **Description:** Fungible LP tokens representing constant-product AMM positions. Includes balances of both tokens in the pair and total USD value. Both Uniswap V2 and its forks are detected by factory address and returned under the same `UniswapV2` type, with the specific protocol name indicated in the `protocol` field.
  
  **Example Response (Uniswap V2):**
  
  ```json [expandable]
  {
    "wallet_address": "0x3ddfa8ec3052539b6c9549f12cea2c295cff5296",
    "positions": [
      {
        "type": "UniswapV2",
        "chain_id": 1,
        "protocol": "UniswapV2",
        "pool": "0x2d0ba902badaa82592f0e1c04c71d66cea21d921",
        "token0": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "token0_name": "Wrapped Ether",
        "token0_symbol": "WETH",
        "token0_decimals": 18,
        "token1": "0xc669928185dbce49d2230cc9b0979be6dc797957",
        "token1_name": "BitTorrent",
        "token1_symbol": "BTT",
        "token1_decimals": 18,
        "lp_balance": "0x9fb1af75d00c86824442",
        "token0_price": 3604.8860123436993,
        "token1_price": 4.791346462915666e-07,
        "calculated_balance": 7500.0,
        "price_in_usd": 0.499768653034215,
        "usd_value": 3748.26,
        "logo": "https://api.sim.dune.com/beta/token/logo/1/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"
      }
    ],
    "aggregations": {
      "total_usd_value": 3748.26,
      "total_by_chain": {
        "1": 3748.26
      }
    }
  }
  ```
  
  **Example Response (SushiSwap V2):**
  
  ```json [expandable]
  {
    "wallet_address": "0x5dd596c901987a2b28c38a9c1dfbf86fffc15d77",
    "positions": [
      {
        "type": "UniswapV2",
        "chain_id": 1,
        "protocol": "SushiSwapV2",
        "pool": "0x54bcf4948e32a8706c286416e3ced37284f17fc9",
        "token0": "0x66c0dded8433c9ea86c8cf91237b14e10b4d70b7",
        "token0_name": "MarsToken",
        "token0_symbol": "Mars",
        "token0_decimals": 18,
        "token1": "0xdac17f958d2ee523a2206206994597c13d831ec7",
        "token1_name": "Tether USD",
        "token1_symbol": "USDT",
        "token1_decimals": 6,
        "lp_balance": "0x2",
        "token0_price": 7.981024983046692e-06,
        "token1_price": 0.9976281228808364,
        "calculated_balance": 2e-18,
        "price_in_usd": 6009.914272265951,
        "usd_value": 1.2019828544531902e-14,
        "logo": "https://api.sim.dune.com/beta/token/logo/1/0x66c0dded8433c9ea86c8cf91237b14e10b4d70b7"
      }
    ],
    "aggregations": {
      "total_usd_value": 1.2019828544531902e-14,
      "total_by_chain": {
        "1": 1.2019828544531902e-14
      }
    }
  }
  ```
  </Accordion>

  <Accordion title="Uniswap V3 (and Forks)" icon="layer-group">
  **Type:** `Nft`  
  **Chains:** Ethereum (1), Base (8453), Arbitrum (42161), BNB (56), Avalanche (43114), Optimism (10), Polygon (137), Unichain (130), HyperEVM (999)  
  **Description:** NFT-based concentrated liquidity positions. Each position includes tick ranges, token holdings, unclaimed fees, and per-position USD valuations. Both Uniswap V3 and its forks are detected by factory address and returned under the same `Nft` type, with the specific protocol name indicated in the `protocol` field.
  
  **Example Response (Uniswap V3):**
  
  ```json [expandable]
  {
    "wallet_address": "0x020ca66c30bec2c4fe3861a94e4db4a498a35872",
    "positions": [
      {
        "type": "Nft",
        "chain_id": 1,
        "protocol": "UniswapV3",
        "pool": "0x286431024acfab509d5d6beb64066c52e205f460",
        "token0": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "token0_name": "Wrapped Ether",
        "token0_symbol": "WETH",
        "token0_decimals": 18,
        "token1": "0xe957ea0b072910f508dd2009f4acb7238c308e29",
        "token1_name": "Ethcoin",
        "token1_symbol": "ETHC",
        "token1_decimals": 18,
        "positions": [
          {
            "tick_lower": -887200,
            "tick_upper": 887200,
            "token_id": "0xd28a4",
            "token0_price": 3604.962479958635,
            "token0_holdings": 0.8508188676223404,
            "token0_rewards": 0.0,
            "token1_price": 0.045373374904882045,
            "token1_holdings": 68599.0469105992,
            "token1_rewards": 0.0
          }
        ],
        "logo": "https://api.sim.dune.com/beta/token/logo/1/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
        "usd_value": 6179.740368611638
      }
    ],
    "aggregations": {
      "total_usd_value": 6179.740368611638,
      "total_by_chain": {
        "1": 6179.740368611638
      }
    }
  }
  ```
  
  **Example Response (PancakeSwap V3):**
  
  ```json [expandable]
  {
    "wallet_address": "0x5dd596c901987a2b28c38a9c1dfbf86fffc15d77",
    "positions": [
      {
        "type": "Nft",
        "chain_id": 56,
        "protocol": "PancakeSwapV3",
        "pool": "0x36696169c63e42cd08ce11f5deeabbceb5d86d25",
        "token0": "0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
        "token0_name": "Wrapped BNB",
        "token0_symbol": "WBNB",
        "token0_decimals": 18,
        "token1": "0x55d398326f99059ff775485246999027b3197955",
        "token1_name": "Tether USD",
        "token1_symbol": "USDT",
        "token1_decimals": 18,
        "positions": [
          {
            "tick_lower": -20450,
            "tick_upper": -18450,
            "token_id": "0x3ab0",
            "token0_price": 580.20,
            "token0_holdings": 1.25,
            "token0_rewards": 0.002,
            "token1_price": 1.00,
            "token1_holdings": 450.50,
            "token1_rewards": 1.50
          }
        ],
        "logo": "https://api.sim.dune.com/beta/token/logo/56/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
        "usd_value": 1175.75
      }
    ],
    "aggregations": {
      "total_usd_value": 1175.75,
      "total_by_chain": {
        "56": 1175.75
      }
    }
  }
  ```
  </Accordion>

  <Accordion title="Uniswap V4" icon="layer-group">
  **Type:** `Nft`  
  **Chains:** Ethereum (1), Base (8453), Arbitrum (42161), BNB (56), Avalanche (43114), Optimism (10), Polygon (137), Unichain (130), HyperEVM (999)  
  **Description:** Next-generation concentrated liquidity positions with hook support. Similar structure to V3 with additional metadata for pool hooks and custom logic.
  </Accordion>
</AccordionGroup>

### Lending Positions

Lending positions include supplied collateral (e.g., aTokens, cTokens) and outstanding debt across major lending protocols.

<AccordionGroup>
  <Accordion title="Aave v2" icon="coins">
  **Type:** `Tokenized`  
  **Token Types:** `AtokenV2`, `AaveV2VariableDebt`  
  **Chains:** Ethereum (1)  
  **Description:** Supply positions (aTokens) and variable debt positions on Aave v2. Each position includes the underlying asset, calculated balance, and USD value.
  
  **Example Response:**
  
  ```json [expandable]
  {
    "wallet_address": "0x8b529ef78046008f9d1fbc91c7407030de96ee32",
    "positions": [
      {
        "type": "Tokenized",
        "chain_id": 1,
        "token_type": "AaveV2VariableDebt",
        "token": "0x619beb58998ed2278e08620f97007e1116d5d25b",
        "token_name": "Aave variable debt bearing USDC",
        "token_symbol": "variableDebtUSDC",
        "calculated_balance": 4.565517,
        "price_in_usd": 0.00042242904592455,
        "usd_value": 0.0019286069904623138,
        "logo": "https://api.sim.dune.com/beta/token/logo/1/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"
      }
    ],
    "aggregations": {
      "total_usd_value": 0.0019286069904623138,
      "total_by_chain": {
        "1": 0.0019286069904623138
      }
    }
  }
  ```
  </Accordion>

  <Accordion title="Aave v3" icon="coins">
  **Type:** `Tokenized`  
  **Token Types:** `AtokenV3`, `AaveV3VariableDebt`  
  **Chains:** Ethereum (1), Base (8453), Arbitrum (42161), BNB (56), Avalanche (43114), Optimism (10), Polygon (137), Unichain (130), HyperEVM (999)  
  **Description:** Supply positions (aTokens) and variable debt positions on Aave v3. Includes underlying token metadata and USD valuations.
  
  **Example Response:**
  
  ```json [expandable]
  {
    "wallet_address": "0xc0979af67786f30dea9335665592d6813b21b819",
    "positions": [
      {
        "type": "Tokenized",
        "chain_id": 1,
        "token_type": "AtokenV3",
        "token": "0xbdfa7b7893081b35fb54027489e2bc7a38275129",
        "token_name": "Aave Ethereum weETH",
        "token_symbol": "aEthweETH",
        "calculated_balance": 2.045,
        "price_in_usd": 3911.29585515,
        "usd_value": 7998.60,
        "logo": null
      }
    ],
    "aggregations": {
      "total_usd_value": 7998.60,
      "total_by_chain": {
        "1": 7998.60
      }
    }
  }
  ```
  </Accordion>
</AccordionGroup>

### Yield Positions

Yield positions represent deposits into vaults, structured products, or yield-generating strategies.

<AccordionGroup>
  <Accordion title="ERC-4626 Vaults" icon="vault">
  **Type:** `Erc4626`  
  **Chains:** Ethereum (1), Base (8453), Arbitrum (42161), BNB (56), Avalanche (43114), Optimism (10), Polygon (137), Unichain (130), HyperEVM (999)  
  **Description:** Tokenized vaults conforming to the ERC-4626 standard. Includes vault share balances, underlying asset metadata, and USD valuations. Examples include Yearn v3 vaults and Pendle Yield Principal Tokens (PTs) when wrapped as ERC-4626.
  
  **Example Response:**
  
  ```json [expandable]
  {
    "wallet_address": "0x9cb21ce0ff81e55db73bbb36d5a9eac9d50a938b",
    "positions": [
      {
        "type": "Erc4626",
        "chain_id": 1,
        "token": "0xbc65ad17c5c0a2a4d159fa5a503f4992c7b545fe",
        "token_name": "Spark USDC Vault",
        "token_symbol": "sUSDC",
        "underlying_token": "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",
        "underlying_token_name": "USD Coin",
        "underlying_token_symbol": "USDC",
        "underlying_token_decimals": 6,
        "calculated_balance": 948.1633593101873,
        "price_in_usd": 1.0690361554703132,
        "usd_value": 1013.6209123947798,
        "logo": "https://api.sim.dune.com/beta/token/logo/1/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"
      }
    ],
    "aggregations": {
      "total_usd_value": 1013.6209123947798,
      "total_by_chain": {
        "1": 1013.6209123947798
      }
    }
  }
  ```
  </Accordion>
</AccordionGroup>

## Compute Units

Each request consumes **two Compute Units per processed chain ID**. Filtering to fewer chains lowers usage. Aggregations are calculated server-side and included in the same response.

<Note>
To learn more specifics, please visit the [Compute Units](/compute-units) page.
</Note>